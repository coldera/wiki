!function(e){function t(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var a={};return t.m=e,t.c=a,t.p="http://s.acc369.com/static/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var a=t.slice(1),n=e[t[0]];return function(e,t,r){n.apply(this,[e,t,r].concat(a))}}(e[t]);break;default:e[t]=e[e[t]]}return e}({"J6T/":function(e,t,a){"use strict";function n(e){return e._id=e.teacherUserId,e.sex=l.formatSex(e.sex),e.subjects=l.formatTeacherSubject(e.subjects),e._initPassword=l.formatInitPassword(e.initPassword,e.passwordState),e.mobile=e.mobile||"--",e}function r(e){var t=$(e).parents(".admin-table-col"),a=t.data("id"),n=i.getFromCache("teacherUserId",a);return{id:a,obj:n}}a("ONbi");var i,o=a("p6dO"),s=a("UuXJ"),c=a("rQ9t"),l=a("ry11"),d=a("84bT"),u=a("Bw2J"),p=o.resetPwdDialg,f=a("n+U9"),h={},m={teacherList:"/user/api.do?pa=teacher.list",remove:"/user/api.do?pa=user.cancel"},g=[{text:"序号",key:"_no",width:50},{text:"账号名",key:"sysLoginId"},{text:"教师工号",key:"userSno"},{text:"教师姓名",key:"nickname"},{text:"绑定手机号",key:"mobile"},{text:"性别",key:"sex",width:50},{text:"初始密码",key:"_initPassword",className:"init-pwd"},{text:"操作",key:"_op",width:50,align:"center",components:[{appearance:"link",style:"cell-cmd-block",text:"编辑",href:"/user/api.do?pa=teacher.edit.forward&teacherUserId={{teacherUserId}}"},{cmd:"remove-teacher",text:"删除",style:"cell-cmd-em cell-cmd-block"}]}],v={curNum:1,init:function(){v.domInit(),v.eventInit(),i=(new s).init({relElm:h.tableWrapper,fields:g,dataApi:m.teacherList,pageElm:h.page,pageCallback:function(e){v.showList(e)}}),i.adapter.items=n,v.showList()},domInit:function(){h.tableWrapper=$(".admin-content-body"),h.loading=$(".admin-loading"),h.page=$(".admin-page-wrapper"),h.adminHeader=$(".admin-header")},eventInit:function(){$(document.body).on("click",".action-import-teacher",function(){f.show("teacher")}).on("click",".action-init-password",function(){var e=r(this),t=e.obj;p.show({id:e.id,nickname:t.nickname,callback:function(){"r"!==t.passwordState&&(t.passwordState="r",i.update(e.id))}})}).on("click",".action-cmd-remove-teacher",function(){var e=r(this),t=e.obj,a=u({type:"remove",nickname:t.nickname});c.confirm(a,{title:"信息提示",buttons:[{id:"del",style:"dialog-warn-btn",value:"删除",callback:function(e){v.removeItem(t.teacherUserId)}},"cancel"]})})},showList:function(e){e=e||v.curNum,i.showData({pageNum:e,pageSize:15}),h.loading.hide()},removeItem:function(e){d.send(m.remove,{targetUserId:e}).done(function(){c.alert("删除成功"),v.showList()})}};},0:function(e,t,a){e.exports=a("J6T/")},ONbi:function(e,t){},p6dO:function(e,t,a){"use strict";function n(){var e=$(".browser-tips");if(e.length){var t=$.cookie("browsertips"),a=new Date,n=+new Date(a.getFullYear(),a.getMonth(),a.getDate());(!t||n>+t)&&(e.show(),$("i",e).click(function(){e.hide(),$.cookie("browsertips",+new Date)}))}}a("tksu"),a("J+eL");var r=a("Dzpv");$(document.body).on("click",".action-admin-change-password",function(){var e=$("#globalUserId").val();r.show({id:e,text:"修改"})}).on("click",".action-show-submenu",function(e){e.preventDefault(),$(".sub-group").hide(),$(this).siblings(".sub-group").toggle()}),$(window).resize(function(){$(".admin-container").css("minHeight",$(window).height()-70)}),$(window).trigger("resize"),n(),e.exports={resetPwdDialg:r}},tksu:"ONbi","J+eL":function(e,t){$(window).resize(function(){$(".admin-header").hide(),setTimeout(function(){var e=$(".admin-container").width();$(".admin-header").css("width",+e+"px").show()},0)}),window.screen.availWidth<=1024&&$(".admin-header").css("width","835px")},Dzpv:function(e,t,a){"use strict";var n=a("84bT"),r=a("rQ9t"),i=a("HPon"),o=a("ry11"),s=a("E0Ar"),c="新密码或确认密码不能为空",l="新密码格式不正确",d="密码长度不超过20位中英文字符",u="两次输入的密码不一致",p={},f={reset:"/user/api.do?pa=user.password.reset"},h={show:function(e){h.eventInit(),h.create(e)},eventInit:function(){h._isEventInit||(h._isEventInit=!0)},create:function(e){e.text=e.text||"重置";var t=s(e);p.dialog=r.customBox("reset",{content:t,fixed:!0,buttons:[{id:"submit",value:"确认",callback:function(t){h.submit(e)}},"cancel"]})},submit:function(e){var t=$(".field-id",p.dialog).val(),a=$.trim($(".field-pwd input",p.dialog).val()),s=$.trim($(".field-pwd-confirm input",p.dialog).val());if(""===a||""===s)return void h.showErrorTips(c);if(a!==s)return void h.showErrorTips(u);if(a.length>20)return void h.showErrorTips(d);if(!o.checkString(a,20,!0))return void h.showErrorTips(l);var m={targetUserId:t,password:i(a)};n.send(f.reset,m,{type:"post"}).done(function(t){t.state&&(r.alert("密码"+e.text+"成功!"),"function"==typeof e.callback&&e.callback())})},showErrorTips:function(e){$(".error-tips",p.dialog).show(),$(".error-tips .text",p.dialog).html(e)}};e.exports=h},"84bT":function(e,t,a){"use strict";function n(e){if(!i){var t=e.shift(),a=t.data||{},r=t.options||{},o=t.url;i=this.send(o,a,r).done(t.done).fail(t.fail).always(function(){i=void 0,e.length&&n.call(this,e)}),i.task=t}}function r(e){var t=new RegExp("(?:\\?|&)"+e+"=([^#?&]+)","gi");return t.test(location.search)?RegExp.$1:""}a("3BhG");var i,o=a("rQ9t"),s={},c=[],l={send:function(e,t,a){var t=t||{},n=$.extend({type:"post",timeout:5e3},a||{});t.json&&(t.json=$.toJSON(t.json));var i=$.Deferred(),c=r("organMark");c&&!t.organMark&&(t.organMark=c),t.pv="ajax",$.ajax({url:e,dataType:"json",data:t,cache:!1,type:n.type}).done(function(e){var t=0;if(e&&!e.error)i.resolve(e);else if(i.reject(e),e.error&&"111"!==e.error.code&&!n.ignoreError)if("function"==typeof n.onReqestError)n.onReqestError(e.error);else{var a=e.error.message,r="";r=a&&"undefined"!==a&&"null"!==a?s[e.error.code]||a:"网络出现异常，请重试！","009"===e.error.code&&(r="您已在其他地方登录！",n.eCallback=function(){location.href="/"}),"008"===e.error.code&&(r="您的使用权限不足，请联系业速市场人员反馈，谢谢！"),o.alert(n.eMessage||r,{title:"系统提示",liveTime:t,buttons:[{id:"back",value:"确认",callback:function(t){t.removeSelf(),"function"==typeof n.eCallback?n.eCallback(e.error):n.eUrl&&(window.location.href=n.eUrl)}}]})}}).fail(function(e){o.tips("网络不给力......"),i.reject(e)});var l=i.promise();return l.options=a,l},queue:function(e){var t=!1;$.each(c,function(a,n){if(n.taskId===e.taskId)return c[a]=e,t=!0,!1}),t||c.push(e),n.call(this,c)},setCode:function(e){$.extend(s,e)},getUrlParams:r};e.exports=l},"3BhG":function(module,exports){!function($){$.toJSON=function(e){if("object"==typeof JSON&&JSON.stringify){var t=JSON.stringify(e);return t.replace(/null/gi,"null")}var a=typeof e;if(null===e)return"null";if("undefined"!=a){if("number"==a||"boolean"==a)return e+"";if("string"==a)return $.quoteString(e);if("object"==a){if("function"==typeof e.toJSON)return $.toJSON(e.toJSON());if(e.constructor===Date){var n=e.getUTCMonth()+1;n<10&&(n="0"+n);var r=e.getUTCDate();r<10&&(r="0"+r);var i=e.getUTCFullYear(),o=e.getUTCHours();o<10&&(o="0"+o);var s=e.getUTCMinutes();s<10&&(s="0"+s);var c=e.getUTCSeconds();c<10&&(c="0"+c);var l=e.getUTCMilliseconds();return l<100&&(l="0"+l),l<10&&(l="0"+l),'"'+i+"-"+n+"-"+r+"T"+o+":"+s+":"+c+"."+l+'Z"'}if(e.constructor===Array){for(var d=[],u=0;u<e.length;u++)d.push($.toJSON(e[u])||"");return"["+d.join(",")+"]"}var p=[];for(var f in e){var h,a=typeof f;if("number"==a)h='"'+f+'"';else{if("string"!=a)continue;h=$.quoteString(f)}if("function"!=typeof e[f]){var m=$.toJSON(e[f]);p.push(h+":"+m)}}return"{"+p.join(", ")+"}"}}},$.evalJSON=function(src){return"object"==typeof JSON&&JSON.parse?JSON.parse(src):eval("("+src+")")},$.secureEvalJSON=function(src){if("object"==typeof JSON&&JSON.parse)return JSON.parse(src);var filtered=src;if(filtered=filtered.replace(/\\["\\\/bfnrtu]/g,"@"),filtered=filtered.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]"),filtered=filtered.replace(/(?:^|:|,)(?:\s*\[)+/g,""),/^[\],:{}\s]*$/.test(filtered))return eval("("+src+")");throw new SyntaxError("Error parsing JSON, source is not valid.")},$.quoteString=function(e){return e.match(_escapeable)?'"'+e.replace(_escapeable,function(e){var t=_meta[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})+'"':'"'+e+'"'};var _escapeable=/["\\\x00-\x1f\x7f-\x9f]/g,_meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"}}(jQuery)},rQ9t:function(e,t,a){a("NQcX");var n="edu-dialog",r=/MSIE 6/i.test(navigator.userAgent),i=function(){var e=arguments[0];return"string"==typeof e&&(arguments[0]="."+n+"-"+e),$.apply($,arguments)},o={parseStr:function(e,t){var a=/({%([\w]+?)%})/g;return e.replace(a,function(){var e=t[arguments[2]];return"undefined"==typeof e&&(e=""),e.toString()})},frame:'<div id="{%id%}" class="{%prefix%}-layer {%type%} {%className%}">\t            <div class="{%prefix%}-wrapper">\t                <table class="{%prefix%}-table-ctn"><tr><td>\t                {%header%}\t                {%close_icon%}\t                <div class="{%prefix%}-content">{%content%}</div>\t                {%buttons%}\t                {%arrow%}\t                </td></tr></table>\t            </div>\t        </div>',header:'<h4 class="{%prefix%}-header">\t            <span class="{%prefix%}-title">{%title%}</span>\t        </h4>',closeIcon:'<i class="{%prefix%}-icon-x"></i>',buttons:'<div class="{%prefix%}-buttons">{%button_list%}</div>',buttonItem:'<a href="{%link%}" data-link="{%link%}" {%target%} class="{%prefix%}-btn-item {%classname%}" rel="{%btn_type%}"><i>{%btn_name%}</i></a>',arrow:'<i class="{%prefix%}-arrow {%dir%}"></i>',mask:'<div class="{%prefix%}-mask"></div>',fixLayer:'<iframe class="{%prefix%}-iframe" src="about:blank"></ifarme>'},s=function(){return $(window).on("accdialog_hide",function(){s.checkMask()}).on("accdialog_show",function(e,t){t.box.__withMask&&s.showMask()}).on("resize",function(){s.setPosition()}),{uid:0,cache:{},removeBox:function(e){var t=s.cache[e];t&&(t.__liveTimeout&&clearTimeout(t.__liveTimeout),s.cache[e]=null,delete s.cache[e],s.checkMask(),t.trigger("box_remove"),t.remove(),t=null)},setPosition:function(){$.each(s.cache,function(e,t){t.setPosition()})},checkMask:function(){var e=!0;for(var t in s.cache)if(s.cache[t][0].offsetWidth){e=!1;break}e&&s.removeMask()},removeAll:function(e){$.each(this.cache,function(t,a){0===a.settings.alone||"undefined"!=typeof e&&a.type!=e||a.removeSelf()}),$(window).trigger("all_accdialog_removed",e)},showMask:function(){if(!i("mask").length){var e=o.parseStr(o.mask,{prefix:n}),t=o.parseStr(o.fixLayer,{prefix:n});$(e).css({width:$(document).width(),height:$(document).height()}).appendTo(document.body),r&&$(t).css({width:$(document).width(),height:$(document).height()}).appendTo(document.body)}},removeMask:function(){i("mask").remove(),r&&i("iframe").remove()}}}(),c={removeSelf:function(){s.removeBox(this.uid)},setPosition:function(e,t){e=e||this.settings;var a=s.cache[this.uid];if(a.outerWidth()<l.minWidth&&$("."+n+"-table-ctn",a).width(l.minWidth),e.reTarget){var o=e.arrowSpace||0,c=$(e.reTarget);if(!c.length)return this.setPosition();var d=i("arrow",a),u=[0,0];d.length&&(u=[d.width(),d.height()]),"undefined"==typeof e.arrowPos&&(e.arrowPos=.5),"undefined"==typeof e.rePos&&(e.rePos=.5);var p=c.offset();switch(e.dir){case"left":if(e.autoAdjust&&!t&&p.left-a.outerWidth()-u[0]-o<0)return e.dir="right",d.removeClass(n+"-arrow-left").addClass(n+"-arrow-right"),a.setPosition(e,!0);d.css({left:a.width()-2,top:a.height()*e.arrowPos-u[1]/2}).removeClass(n+"-arrow-right").addClass(n+"-arrow-left"),a.css({left:p.left-a.outerWidth()-u[0]-o,top:p.top+c.outerHeight()*e.rePos-a.outerHeight()*e.arrowPos});break;case"right":if(e.autoAdjust&&!t&&p.left+c.outerWidth()+u[0]+o+a.outerWidth()>$(document).width())return e.dir="left",d.removeClass(n+"-arrow-right").addClass(n+"-arrow-left"),a.setPosition(e,!0);d.css({left:-u[0],top:a.height()*e.arrowPos-u[1]/2}).removeClass(n+"-arrow-left").addClass(n+"-arrow-right"),a.css({left:p.left+c.outerWidth()+u[0]+o,top:p.top+c.outerHeight()*e.rePos-a.outerHeight()*e.arrowPos});break;case"up":if(e.autoAdjust&&!t&&p.top-a.outerHeight()-u[1]-o<0)return e.dir="down",d.removeClass(n+"-arrow-up").addClass(n+"-arrow-down"),a.setPosition(e,!0);d.css({left:a.width()*e.arrowPos-u[0]/2,top:a.height()-2}).removeClass(n+"-arrow-down").addClass(n+"-arrow-up"),a.css({left:p.left+c.outerWidth()*e.rePos-a.outerWidth()*e.arrowPos,top:p.top-a.outerHeight()-u[1]-o});break;case"down":if(e.autoAdjust&&!t&&p.top+c.outerHeight()+u[1]+o+a.outerHeight()>$(document).height())return e.dir="up",d.removeClass(n+"-arrow-down").addClass(n+"-arrow-up"),a.setPosition(e,!0);d.css({left:a.width()*e.arrowPos-u[0]/2,top:-u[1]}).removeClass(n+"-arrow-up").addClass(n+"-arrow-down"),a.css({left:p.left+c.outerWidth()*e.rePos-a.outerWidth()*e.arrowPos,top:p.top+c.outerHeight()+u[1]+o});break;case"center":d.hide(),a.css({left:p.left+c.outerWidth()/2-a.outerWidth()/2,top:p.top+c.outerHeight()/2-a.outerHeight()/2})}}else{var f,h;e.position&&(f=e.position.y,h=e.position.x),f=isNaN(f)?($(window).height()-a.outerHeight())/2:f,h=isNaN(h)?($(window).width()-a.outerWidth())/2:h,a.css({position:e.fixed&&!r?"fixed":"absolute",top:f,left:h})}return this},setContent:function(e){var t=s.cache[this.uid];return t&&i("content",t).html(e),this}},l={minWidth:350,create:function(e,t){var a="",r="",d="",u="";l.minWidth=t.minWidth||l.minWidth,t.title&&(a=o.parseStr(o.header,{title:t.title,prefix:n})),t.hasX&&(r=o.parseStr(o.closeIcon,{prefix:n})),t.dir&&(t.arrowPos=isNaN(t.arrowPos)?.5:t.arrowPos,t.arrowPos>=0&&t.arrowPos<=1?u=o.parseStr(o.arrow,{dir:n+"-arrow-"+t.dir,prefix:n}):t.arrowPos=0),t.buttons&&t.buttons.length&&(d=this.createButtonsTpl(t.buttons));var p=o.parseStr(o.frame,{id:n+"-box-"+s.uid++,type:n+"-layer-"+e,header:a,close_icon:r,content:t.content,buttons:d,arrow:u,prefix:n,className:t.className});"undefined"==typeof t.alone&&(t.alone=1),1===t.alone?s.removeAll():2===t.alone&&s.removeAll(e);var f=$(p).appendTo(document.body).hide();$("."+n+"-table-ctn",f).width(t.width||"auto"),f.uid=s.uid,f.type=e,f.settings=t,s.cache[f.uid]=$.extend(f,c),!t.hasX||t.title||t.noXSpace||i("content",f).css("paddingRight","20px"),t.noMask||(s.showMask(),f.__withMask=!0);return t.liveTime&&(f.__liveTimeout&&clearTimeout(f.__liveTimeout),f.__liveTimeout=setTimeout(function(){s.removeBox(f.uid)},t.liveTime)),this.eventInit(f,t),t.ajaxUrl&&(f.setContent('<p class="'+n+'-loading">数据加载中...</p>'),$.ajax({url:t.ajaxUrl,dataType:"json",data:t.ajaxParams||{}}).done(t.ajaxCallback)),f.show().setPosition(t),f},eventInit:function(e,t){i("buttons",e).on("click","."+n+"-btn-item",function(t){var a=$(this).attr("rel");e.trigger(a+"_onclick"),$(this).data("link")||t.preventDefault()}),t.buttons&&t.buttons.length&&$.each(t.buttons,function(t,a){a.callback&&e.bind(a.id+"_onclick",function(){a.callback.call(e,e)})}),i("icon-x",e).bind("click",function(){"function"==typeof t.xCallback?t.xCallback.call(e,e):s.removeBox(e.uid),e.trigger("x_onclick",$.proxy(t.okCallback,e))}),"function"==typeof t.okCallback?e.bind("ok_onclick",$.proxy(t.okCallback,e)):e.bind("ok_onclick",function(){s.removeBox(e.uid)}),"function"==typeof t.cancelCallback?e.bind("cancel_onclick",$.proxy(t.cancelCallback,e)):e.bind("cancel_onclick",function(){s.removeBox(e.uid)}),"function"==typeof t.closedCallback&&e.bind("box_remove",$.proxy(t.closedCallback,e))},createButtonsTpl:function(e){for(var t,a="",r=0,i=e.length;r<i;r++)switch(e[r]){case"ok":t=e[r],a+=o.parseStr(o.buttonItem,{btn_name:"确定",btn_type:"ok",prefix:n,classname:t.style||n+"-btn-confirm"});break;case"cancel":t=e[r],a+=o.parseStr(o.buttonItem,{btn_name:"取消",btn_type:"cancel",prefix:n,classname:t.style||n+"-btn-cancel"});break;default:"object"==typeof e[r]&&(t=e[r],a+=o.parseStr(o.buttonItem,{btn_type:t.id,btn_name:t.value,classname:t.style,link:t.link,target:"target="+t.target,prefix:n}))}return o.parseStr(o.buttons,{button_list:a,prefix:n})}};window.accdialog=e.exports={alert:function(e,t){var a=l.create("alert",$.extend({content:e,fixed:!0,liveTime:2e3,arrowPos:-1},t||{}));return a},tips:function(e,t){var a=l.create("alert",$.extend({content:'<div style="text-align:center;color:#666">'+e+"</div>",fixed:!0,liveTime:2e3,arrowPos:-1},t||{}));return a},confirm:function(e,t){var a=l.create("confirm",$.extend({content:e,fixed:!0,buttons:["ok",{id:"cancel",style:n+"-btn-cancel",value:"取消"}]},t||{}));return a},notice:function(e,t){var a=l.create("notice",$.extend({content:e,liveTime:3e3,reTarget:document.body,dir:"center",noMask:!0},t||{}));return a},dialog:function(e,t){var a=l.create("dialog",$.extend({ajaxUrl:e,ajaxCallback:function(e){e&&e.error&&e.reason?a.setContent('<p class="'+n+'-noresult">'+e.reason+"</p>"):"function"==typeof t.contentAdapter?a.setContent(t.contentAdapter(e)):e?a.setContent(e):a.setContent('<p class="'+n+'-noresult">暂无内容</p>'),a.setPosition(t),a.trigger("dialog_ajax_done",e)},hasX:!0},t||{}));return a},customBox:function(e,t){return l.create(e,t)}}},NQcX:"ONbi",upMz:function(e,t,a){var n=a("vTIg");e.exports=n("src/tpl/dialog-import",function(e,t){"use strict";var a=this,n=(a.$helpers,e.type),r=a.$escape,i=e.url,o=e.hasPower,s=e.dataHelper,c=e.subjectId,l=e.subjectName,d="";return"teacher"==n?(d+=' <p class="step-text">第1步：下载教师信息模板，填写教师基础信息</p> <div class="import-btn"> <a class="admin-form-btn-normal" href="',d+=r(i),d+='" target="_blank">下载教师模板</a> <span class="tips">导入说明：请使用教师专用模版上传，否则可能会导致导入失败</span> </div> <p class="step-text">第2步：批量导入</p> <div class="field-upload"> <form class="admin-form" enctype="multipart/form-data" action="/user/fileUpload.do?pa=teacher.import" method="post"> <div class="admin-form-col"> <span class="admin-form-field">导入教师</span> <span class="admin-form-file field-excel-upload"> <span class="fake-input"></span> <span class="fake-btn">选择文件</span> <input type="file" name="teacherExcel" class="action-file-change" /> </span> </div> </form> </div> '):"class"==n?(d+=' <p class="step-text">第1步：下载学生信息模板，填写学生基础信息</p> <div class="import-btn"> <a class="admin-form-btn-normal" href="',d+=r(i),d+='" target="_blank">下载学生模板</a> <span class="tips">导入说明：请使用学生专用模版上传，否则可能会导致导入失败</span> </div> <p class="step-text">第2步：批量导入</p> <div class="field-upload"> <form class="admin-form" enctype="multipart/form-data" action="/user/fileUpload.do?pa=class.student.import" method="post"> <div class="admin-form-col"> <span class="admin-form-field">导入学生</span> <span class="admin-form-file field-excel-upload"> <span class="fake-input"></span> <span class="fake-btn">选择文件</span> <input type="file" name="studentExcel" class="action-file-change" /> </span> </div> </form> </div> '):"question"==n&&(d+=' <form enctype="multipart/form-data" action="/exam/fileUpload.do?pa=admin.question.excel.upload" method="post"> <p class="step-text">第1步：下载题目信息模板，填写题目基础信息</p> <div class="import-btn"> <a class="admin-form-btn-normal" href="',d+=r(i),d+='" target="_blank">下载题目模板</a> <span class="tips">导入说明：请使用题目专用模版上传，否则可能会导致导入失败</span> </div> ',o?(d+=' <p class="step-text">第2步：选择导入题目可见范围</p> <div class="field-range"> <div class="admin-form-col"> <span class="admin-form-field">可见范围</span> <select class="admin-form-select" name="visibleRange"> <option value="0" selected="selected">本人可见</option> <option value="1">',d+=r(s.formatSource(0)),d+='</option> </select> </div> </div> <p class="step-text">第3步：批量导入</p> <div class="field-upload"> <div class="admin-form"> <div class="admin-form-col"> <span class="admin-form-field">导入题目</span> <span class="admin-form-file field-excel-upload"> <span class="fake-input"></span> <span class="fake-btn">选择文件</span> <input type="file" name="questionExcel" class="action-file-change" /> <input type="hidden" name="subjectId" value="',d+=r(c),d+='" /> <input type="hidden" name="subjectName" value="',d+=r(l),d+='" /> </span> </div> </div> </div> </form> '):(d+=' <p class="step-text">第2步：批量导入</p> <div class="field-upload"> <div class="admin-form"> <div class="admin-form-col"> <span class="admin-form-field">导入题目</span> <span class="admin-form-file field-excel-upload"> <span class="fake-input"></span> <span class="fake-btn">选择文件</span> <input type="file" name="questionExcel" class="action-file-change" /> <input type="hidden" name="subjectId" value="',d+=r(c),d+='" /> <input type="hidden" name="subjectName" value="',d+=r(l),d+='" /> <input type="hidden" name="visibleRange" value="0" /> </span> </div> </div> </div> </form> '),d+=" "),new String(d)})},ry11:function(e,t){"use strict";var a=/\{\{(.+?)\}\}/gi;window.dataHelper=e.exports={formatInitPassword:function(e,t){return"r"===t&&(e="已重置"),e},formatePrice:function(e){var t,a="",n=[],r="",i="";return a="string"!=typeof e?e.toString():e,~a.indexOf(".")?(t=a.substring(0,a.lastIndexOf(".")),a.length-t.length===2&&(a+="0"),i=a.slice(-2),n=this.cuttingStr(t,n)):n=this.cuttingStr(a,n),n&&n.length&&$.each(n,function(e,t){r+=e===n.length-1?t:t+","}),r=i?"￥"+r+"."+i:"￥"+r+".00"},cuttingStr:function(e,t){var a,n;return e.length>3?(a=e.slice(-3),n=e.slice(0,e.length-4),t.unshift(a),this.cuttingStr(n,t)):(a=e,t.unshift(a)),t},formatSex:function(e){var t={m:"男",f:"女",s:"保密"}[e];return t||"保密"},formatSubjectTeachers:function(e){var t=[],a="";return $.each(e,function(e,a){if(t.length){var n=!0;$.each(t,function(e,t){t.subjectId==a.subjectId&&(n=!1,t.teacher.push({teacherUserId:a.teacherUserId,teacherName:a.teacherName}))}),n&&t.push({subjectId:a.subjectId,subjectName:a.subjectName,teacher:[{teacherUserId:a.teacherUserId,teacherName:a.teacherName}]})}else t.push({subjectId:a.subjectId,subjectName:a.subjectName,teacher:[{teacherUserId:a.teacherUserId,teacherName:a.teacherName}]})}),t.length?$.each(t,function(e,t){var n="";$.each(t.teacher,function(e,a){n+=e!==t.teacher.length-1?a.teacherName+"、":a.teacherName}),a+="<p style='margin-top: 4px;'><span style='font-weight:bold;'>《"+t.subjectName+"》</span> —— "+n+"</p>"}):a="",a},replaceAllHtmlSign:function(e){var t=e.replace(/<[^>]*>/g,"").replace(/^(.{10}).*$/,"$1...");return t},inputAnswerSetHandle:function(e,t){return 13==t?JSON.stringify(e):e},formatFileNameCheck:function(e,t){return"i"===e?!!/jpeg|gif|jpg|png|bmp|pic/i.test(t):"a"===e?!!/mp3|ogg/i.test(t):"v"===e?!!/mp4|rmvb|flv|mpeg|avi/i.test(t):void 0},strToObj:function(e){if(!e)return"";try{var t=JSON.parse(e);return t}catch(a){return e}},formatSubject:function(e){var t=[],a="";return $.each(e,function(e,a){if(t.length){var n=!0;$.each(t,function(e,t){t.subjectId==a.subjectId&&(n=!1)}),n&&t.push({subjectId:a.subjectId,subjectName:a.subjectName+(a.originalName||"")})}else t.push({subjectId:a.subjectId,subjectName:a.subjectName+(a.originalName||"")})}),t.length?$.each(t,function(e,t){a+="<p style='margin-top: 4px;'><span style='font-weight:bold;'>《"+t.subjectName+"》</span></p>"}):a="",a},formatTeachers:function(e){var t=[],a="";return $.each(e,function(e,a){if(t.length){var n=!0;$.each(t,function(e,t){t.teacherUserId==a.teacherUserId&&(n=!1,t.teacher.push({teacherUserId:a.teacherUserId,teacherName:a.teacherName}))}),n&&t.push({teacherUserId:a.teacherUserId,teacherName:a.teacherName})}else t.push({teacherUserId:a.teacherUserId,teacherName:a.teacherName})}),t.length?$.each(t,function(e,t){var n="";$.each(t.teacher,function(e,a){n+=e!==t.teacher.length-1?a.teacherName+"、":a.teacherName}),a+="<p style='margin-top: 4px;'><span style='font-weight:bold;'>"+t.teacherName+"</span></p>"}):a="",a},formatTeacherSubject:function(e){var t=[];return $.each(e,function(e,a){t.push(a.subjectName)}),t.join(" | ")},formatItems:function(e){var t="";return $.each(e,function(e,a){t+="<p>"+a+"</p>"}),t},formatTableVar:function(e,t,n){return e&&e.replace(a,function(e,a){var r="";return"undefined"!=typeof t[a]&&(r=n?encodeURIComponent(t[a]):t[a]),r})},formatTableNo:function(e,t,a){return"undefined"!=typeof a?a:e.size?(e.cur-1)*e.size+t+1:t+1},formatDate:function(e,t){if(t=t||"yyyy-mm-dd",!e&&0!==e)return"";var a=new Date(e),n={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),M:a.getMinutes(),s:a.getSeconds()};return t.replace(/[ymdhMs]+/gi,function(e){return("000"+n[e[0]]).slice(-e.length)})},formatQuestonContent:function(e,t){t=t||50;var a=e.replace(/<[^>]*>/g,"").replace(/\\r|\\n/g,"");return a.length>t&&(a=a.substring(0,t)+"..."),a},formatRate:function(e,t){return t=t||0,e=e||0,(100*e).toFixed(t)+"%"},formatAnswer:function(e,t){if(null==e)e="未作答";else if(13==t){var a="";$.each(JSON.parse(e),function(e,t){a+=t+"<br>"}),e='<span style="display: inline-block;vertical-align: top">'+a+"</span>"}else"j"===t&&(e="A"===e?"对":"错"),"m"!==t&&"u"!==t||(e=e.replace(/,/g,""));return e},formatSource:function(e){var t;return"organ"==window.globalAppId?t="机构":"school"==window.globalAppId?t="本校":"person"==window.globalAppId&&(t="个人"),{1:"系统",0:t}[e]||""},shareFormatSource:function(e){var t;return"organ"==window.globalAppId?t="机构":"school"==window.globalAppId?t="校本":"person"==window.globalAppId&&(t="个人"),{1:"系统",0:t}[e]||""},formatVisibleRangeHtml:function(e){var t="";return 1==e.visibleRange&&this.rOfData("rs",e.opSet)?t='本校可见,<span class="cell-cmd action-cmd-source-visiblerange-close">设为本人可见</span>':1!=e.visibleRange||this.rOfData("rs",e.opSet)?0==e.visibleRange&&this.rOfData("rs",e.opSet)&&"organ"==window.globalAppId?t='本人可见,<span class="cell-cmd action-cmd-source-visiblerange-open">设为机构可见</span>':0==e.visibleRange&&this.rOfData("rs",e.opSet)&&"school"==window.globalAppId?t='本人可见,<span class="cell-cmd action-cmd-source-visiblerange-open">设为本校可见</span>':0!=e.visibleRange||this.rOfData("rs",e.opSet)||(t="本人可见"):t="本校可见",t},formatVisibleRange:function(e){var t;return"organ"==window.globalAppId?t="机构":"school"==window.globalAppId&&(t="本校"),{1:t,0:"本人可见"}[e]||""},formatDifficultyType:function(e){return{l:"易",m:"中",h:"难"}[e]||""},formatUseFor:function(e){var t={n:"真题冲刺",r:"章节强化",t:"考情速递",x:"实操演练"};return t[e]||""},lastTime:function(e){var t=new Date(e),a=t.getFullYear(),n=t.getMonth(),r=t.getDate();return new Date(a,n,r).getTime()+864e5-1},rOfData:function(e,t){var a=!1;return $.each(t,function(t,n){e==n&&(a=!0)}),a},wordNum:function(e){return $.trim(e).length},formatChapterName:function(e){return[e.chapterName||"",e.sectionName||"",e.knowName||""].join(" ")},checkString:function(e,t,a){var n,r="";return a&&(r="\\u4e00-\\u9fa5"),n=new RegExp("^[0-9a-zA-Z_"+r+"]{1,"+t+"}$"),n.test(e)},checkWithChinese:function(e,t,a){var n=e.match(/[\u4e00-\u9fa5]/g)||[],r=n.length,i=e.length-r;return r<=t&&i<=a},questionTypeName:function(e,t){var a="";return window.globalGetQuestionType&&(a=globalGetQuestionType(e,t)),a&&a.questionTypeName},isObjectively:function(e,t){if(window.globalGetQuestionType)return t=globalGetQuestionType(e,t),t&&"1"===t.objectively},isParentQuestion:function(e){return~"ced".indexOf(e)},hasPermissions:function(e){return!!window.globalPermissions&&!!~(","+globalPermissions).indexOf(","+e+",")},getRightAnswer:function(e,t){e=e||[];var a="",n=0,r="";return $.each(e,function(e,i){"y"===i.isAnswer?(a+=0===n&&"j"===t?i.content:i.letter,n++):"f"===t||"r"===t?a+=i:"13"===t&&(r+=i+"<br>")}),"13"===t&&(a='<span style="display: inline-block;vertical-align: top">'+r+"</span>"),a},getQuestionElement:function(e){return $('div[data-question-id="q-'+e+'"]')},setQuestionElement:function(e,t){e.attr("data-question-id","q-"+t)},each:function(e){return e},eachNumber:function(e){return new Array((+e))},variable:function(){return""},showFileSize:function(e){return e>1073741824?Math.floor(e/1024/1024/1024*100)/100+"G":e>1048576?Math.floor(e/1024/1024*100)/100+"M":e>1024?Math.floor(e/1024*100)/100+"kb":e<1024?Math.floor(100*e)/100+"Byte":0==e?"0Byte":void 0}}},E0Ar:function(e,t,a){var n=a("vTIg");e.exports=n("src/tpl/dialog-reset-pwd",function(e,t){"use strict";var a=this,n=(a.$helpers,a.$escape),r=e.id,i=e.text,o=e.nickname,s="";return s+='<div class="custom-edu-dialog edu-reset-pwd-dialog"> <input type="hidden" class="field-id" value="',s+=n(r),s+='" /> <div class="dialog-header"> <h4 class="title">',s+=n(i),s+="密码</h4> ",o?(s+=' <span class="sub-title">为 ',s+=n(o),s+=" ",s+=n(i),s+="密码！</span> "):s+=' <span class="sub-title"> </span> ',s+=' </div> <div class="dialog-form"> <div class="error-tips"> <i class="icon icon-error"></i> <span class="text"></span> </div> <span class="dialog-field-tips">输入您的新密码</span> <div class="dialog-form-input field-pwd"> <input type="password" style="width:360px" placeholder="密码长度不超过20位中英文字符" /> </div> <span class="dialog-field-tips">确认密码</span> <div class="dialog-form-input field-pwd-confirm"> <input type="password" style="width:360px" placeholder="密码长度不超过20位中英文字符" /> </div> </div> </div>',new String(s)})},vTIg:function(e,t){!function(){function t(e,t){return(/string|function/.test(typeof t)?c:s)(e,t)}function a(e,t){return"string"!=typeof e&&(t=typeof e,"number"===t?e+="":e="function"===t?a(e.call(e)):""),e}function n(e){return p[e]}function r(e){return a(e).replace(/&(?![\w#]+;)|[<>"']/g,n)}function i(e,t){if(f(e))for(var a=0,n=e.length;n>a;a++)t.call(e,e[a],a,e);else for(a in e)t.call(e,e[a],a)}function o(e,t){var a=/(\/)[^\/]+\1\.\.\1/,n=("./"+e).replace(/[^\/]+$/,""),r=n+t;for(r=r.replace(/\/\.\//g,"/");r.match(a);)r=r.replace(a,"/");return r}function s(e,a){var n=t.get(e)||l({filename:e,name:"Render Error",message:"Template not found"});return a?n(a):n}function c(e,t){if("string"==typeof t){var a=t;t=function(){return new u(a)}}var n=d[e]=function(a){try{return new t(a,e)+""}catch(n){return l(n)()}};return n.prototype=t.prototype=h,n.toString=function(){return t+""},n}function l(e){var t="{Template Error}",a=e.stack||"";if(a)a=a.split("\n").slice(0,2).join("\n");else for(var n in e)a+="<"+n+">\n"+e[n]+"\n\n";return function(){return"object"==typeof console&&void 0,t}}var d=t.cache={},u=this.String,p={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},f=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},h=t.utils={$helpers:{},$include:function(e,t,a){return e=o(a,e),s(e,t)},$string:a,$escape:r,$each:i},m=t.helpers=h.$helpers;t.get=function(e){return d[e.replace(/^\.\//,"")]},t.helper=function(e,t){m[e]=t},e.exports=t}()},UuXJ:function(e,t,a){"use strict";function n(e,t){t?$(e).addClass(s).removeClass(c):$(e).addClass(c).removeClass(s)}a("YM8a");var r=a("ry11"),i=a("84bT"),o=a("EakI"),s="icon-checkbox-checked",c="icon-checkbox-uncheck",l=function(){this.data=null,this.fields=[],this.relElm=document.body,this.dom=null,this.bodyElm=null,this.pageElm=null,this.dataApi="",this.dataCallback=null,this.adapter={},this.onDataGet=null};l.STATE_DISCARD="__data-is-discard__",l.prototype={init:function(e){return $.extend(this,e),this.domInit(),this},domInit:function(){this.dom||this.create()},eventInit:function(){var e=this;this.dom.on("click",".action-default-cmd-check",function(t){e.dom.trigger("checkbox-field-state-change",t.target),e.setFromCpn(this,"checkbox")}).on("click",".action-default-cmd-radio",function(){e.setFromCpn(this,"radio")}).on("click",".action-show-dropdown",function(){var e=$(".admin-cell-dropdown",this.parentNode),t=e.position(),a=$(".cell-dropdown-list",this.parentNode);$(".cell-dropdown-list").hide(),a.show().css({top:e.height(!0)+t.top+2,left:t.left+e.width(!0)})}).on("click",".action-select-dropdown-item",function(){e.setFromCpn(this,"dropdown"),$(".cell-dropdown-list",this.parentNode).hide()}).on("click",".action-admin-table-sort",function(t){var a=$(t.target).data("sort"),n=$(t.target).data("key");a="asc"===a?"desc":"asc",e.curSortField={key:n,value:a},$.each(e.fields,function(t,r){if(r.key===n)return r.sort=a,e.curSortField.dataType=r.dataType,!1}),e.create(),e.showData(null,!0)}).on("click",".action-checkbox-field-toggle",function(){var t=$(this).hasClass(s),a=$(this).data("cpn");if(a){t=!t,n(this,t);var r=$('.cell-cmd-group [data-cmd="'+a+'"]',e.bodyElm);$.each(r,function(e,a){(t&&$(a).hasClass(c)||!t&&$(a).hasClass(s))&&$(a).trigger("click")})}}).on("mouseleave",".admin-cell-dropdown",function(e){var t=$(e.target).parents(".cell-cmd-group")[0],a=$.contains(t,e.relatedTarget);a||$(".cell-dropdown-list",this.parentNode).hide();
}).on("table_refresh",function(){$.each(e.fields,function(t,a){a.checkboxField&&e.updateCheckboxField(a.checkboxField)})}).on("checkbox-field-state-change",function(t,a){var r=$(a),i=r.data("cmd"),o=$(".checkbox-field[data-cpn="+i+"]",e.dom);if(r.hasClass(c)){var s=$(".cell-cmd-group i[data-cmd="+i+"]"),l=!0;$.each(s,function(e,t){if(t!==a&&$(t).hasClass(c))return l=!1,!1}),n(o,l)}else n(o,!1)})},create:function(){var e=o({tplType:"wrapper",data:this,fieldFilter:this.fieldFilter,emptyText:this.emptyText||"没有找到相关数据！"});this.relElm.html(e),this.dom=$(".admin-table-wrapper",this.relElm),this.tableElm=$(".admin-table-main",this.dom).hide(),this.bodyElm=$(".admin-table-body",this.dom),this.noResultElm=$(".admin-no-result",this.dom),this.eventInit()},getData:function(e,t){e=e||{};var a=new $.Deferred,n=0,r=this;return t?($.each(this.data,function(){n++}),a.resolve(this.data,n)):"function"==typeof this.dataCallback?this.dataCallback(function(e){n=e.length,a.resolve(e,n)},e):this.dataApi&&i.send(this.dataApi,{json:e}).done(function(e){"function"==typeof r.onDataGet&&r.onDataGet(e);var t=e&&e.list?e.list:e;n=e.total||t.length,a.resolve(t,n)}),a.promise()},showData:function(e,t){var a=this,e=e||{};return e.pageNum&&(this.curPage=e.pageNum),this.getData(e,t).done(function(n,i){a.data=$.extend(!0,{},n),i=i||0;var s;if(i>0){if(a.pageElm&&!t){var c=1;c="function"==typeof a.setPageCount?a.setPageCount():Math.ceil(i/e.pageSize),a.pageElm.createPage({pageCount:c||1,current:a.curPage||1,backFn:function(t){a.curPage=t,"function"==typeof a.pageCallback?a.pageCallback(t):(e.pageNum=t,a.showData(e))}})}var l=a.formatData(n,i),s=o({tplType:"items",data:l.list,page:{total:l.total,cur:e.pageNum,size:e.pageSize},collapse:a.collapse,fields:a.fields,dataHelper:r,fieldFilter:a.fieldFilter});a.bodyElm.html(s),a.tableElm.show(),a.noResultElm.hide()}else a.tableElm.hide(),a.noResultElm.show();a.pageElm&&!t&&(i<=e.pageSize?a.pageElm.hide():a.pageElm.show()),a.dom.trigger("table_refresh"),$(window).trigger("resize")})},formatData:function(e,t){var a,n=this,r=[],i=[];$.each(e,function(e,o){if("function"==typeof n.adapter.items&&n.adapter.items(o,n),o._state===l.STATE_DISCARD)t-=1;else{if("undefined"==typeof o._id?o._id=e+"":o._id+="",n.data[e]._id||(n.data[e]._id=o._id),n.collapse){var s=o[n.collapse];n.data[e]._skip||n.data[e].row||(a===s?(i[i.length-1]++,o._skip=!0,n.data[e]._skip=!0):(a=s,o._rowIndex=i.length,i[i.length]=1))}r.push(o)}});var o=n.curSortField;return o||$.each(n.fields,function(e,t){if(t.sort)return o={key:t.key,value:t.sort,dataType:t.dataType},n.curSortField=o,!1}),o&&r.sort(function(e,t){if("number"===o.dataType){var a=parseFloat(e[o.key]),n=parseFloat(t[o.key]);return isNaN(a)?1:isNaN(n)?-1:"asc"===o.value?a-n:n-a}return"asc"===o.value?e[o.key]>=t[o.key]?1:-1:e[o.key]<t[o.key]?1:-1}),n.collapse&&$.each(r,function(e,t){t._rowIndex>=0&&(n.data[e].row?t.row=n.data[e].row:(t.row=i[t._rowIndex],n.data[e].row=t.row),delete t._rowIndex)}),{total:t,list:r}},getFromCache:function(e,t){var a=null;return $.each(this.data,function(n,r){if(r[e]===t)return a=r,!1}),a},getFieldCpn:function(e){var t;return $.each(this.fields,function(a,n){if(n.key===e)return t=n.components,!1}),t},setFromCpn:function(e,t){var a=this,n=$(e).parents(".admin-table-col"),r=$(e).parents(".admin-table-cell"),i=n.data("id").toString(),o=r.data("key"),s=$(e).data("cmd"),c=this.getFromCache("_id",i),l=this.getFieldCpn(o)||[];$.each(l,function(n,r){if(r.cmd===s&&r.appearance===t)return r.set(c,$(e).data("value"),function(){a.update(i)},a),!1})},setFieldData:function(e,t,a){var n=this;t&&$.each(this.fields,function(r,i){if(i.key===e)return i[t]=a,n.create(),!1})},update:function(e){var t=$('.admin-table-col[data-id="'+e+'"]',this.dom);if(t.length){var a=this.getFromCache("_id",e.toString());a=$.extend(!0,{},a),this.formatData([a]);var n=o({tplType:"items",data:[a],fields:this.fields,no:t.data("no"),collapse:this.collapse,dataHelper:r});n=n.replace(/<tr[^>]+>/,"").replace(/<\/tr>\s*$/,""),t.html(n)}},updateCheckboxField:function(e){var t=$(".checkbox-field[data-cpn="+e+"]",this.dom),a=!0,r=$(".cell-cmd-group i[data-cmd="+e+"]");$.each(r,function(e,t){if($(t).hasClass(c))return a=!1,!1}),n(t,a)}},window.Table=l,e.exports=l},YM8a:function(e,t){!function(e){var t={init:function(e,a){return function(){t.fillHtml(e,a),t.bindEvent(e,a)}()},fillHtml:function(e,t){return function(){e.empty(),t.current=t.current-0,t.pageCount=t.pageCount-0,t.current>1?e.append('<a href="javascript:;" class="prevPage">'+t.prevText+"</a>"):(e.remove(".prevPage"),e.append('<span class="disabled">'+t.prevText+"</span>")),1!=t.current&&t.current>=4&&4!=t.pageCount&&e.append('<a href="javascript:;" class="tcdNumber item first">1</a>'),t.current-2>2&&t.current<=t.pageCount&&t.pageCount>5&&e.append('<span class="item">...</span>');var a=t.current-2,n=t.current+2;for((a>1&&t.current<4||1==t.current)&&n++,t.current>t.pageCount-4&&t.current>=t.pageCount&&a--;a<=n;a++)if(a<=t.pageCount&&a>=1)if(a!=t.current)1===a?e.append('<a href="javascript:;" class="tcdNumber item first">'+a+"</a>"):a===t.pageCount?e.append('<a href="javascript:;" class="tcdNumber item last">'+a+"</a>"):e.append('<a href="javascript:;" class="tcdNumber item">'+a+"</a>");else{var r="";1==a&&(r="first"),a==t.pageCount&&(r="last"),e.append('<span class="current item '+r+'">'+a+"</span>")}t.current+2<t.pageCount-1&&t.current>=1&&t.pageCount>5&&e.append('<span class="item">...</span>'),t.current!=t.pageCount&&t.current<t.pageCount-2&&4!=t.pageCount&&e.append('<a href="javascript:;" class="tcdNumber item last">'+t.pageCount+"</a>"),t.current<t.pageCount?e.append('<a href="javascript:;" class="nextPage">'+t.nextText+"</a>"):(e.remove(".nextPage"),e.append('<span class="disabled">'+t.nextText+"</span>"))}()},bindEvent:function(a,n){return function(){a.off("click","a.tcdNumber").on("click","a.tcdNumber",function(){var r=parseInt(e(this).text());n.current=r,t.fillHtml(a,n),"function"==typeof n.backFn&&n.backFn(r)}),a.off("click","a.prevPage").on("click","a.prevPage",function(){var e=parseInt(a.children("span.current").text());n.current=e-1,t.fillHtml(a,n),"function"==typeof n.backFn&&n.backFn(e-1)}),a.off("click","a.nextPage").on("click","a.nextPage",function(){var e=parseInt(a.children("span.current").text());n.current=e+1,t.fillHtml(a,n),"function"==typeof n.backFn&&n.backFn(e+1)})}()}};e.fn.createPage=function(a){var n=e.extend({pageCount:10,current:1,prevText:"&lt;",nextText:"&gt;",backFn:function(){}},a);t.init(this,n)}}(jQuery)},EakI:function(e,t,a){var n=a("vTIg");e.exports=n("src/tpl/admin-table",function(e,t){"use strict";var a=this,n=(a.$helpers,e.tplType),r=e.data,i=a.$string,o=a.$each,s=(e.th,e.$index,e.fieldFilter),c=a.$escape,l=e.emptyText,d=(e.tr,e.index,e.dataHelper),u=e.page,p=e.no,f=e.fields,h=(e.field,e.collapse),m=(e.cpn,e.item,"");return"wrapper"==n?(m+=' <div class="admin-table-wrapper"> <table class="admin-table-main"> ',r.fieldTemplate?(m+=' <thead class="admin-table-header"> ',m+=i(r.fieldTemplate),m+=" </thead> "):r.fields&&(m+=' <thead class="admin-table-header"> <tr> ',o(r.fields,function(e,t){m+=" ",0==e.col||s&&s(e)===!1||(m+=' <th style="text-align:',m+=e.align?c(e.align):"left",m+=";",e.sort&&(m+="cursor:pointer;"),m+='" data-key="',m+=c(e.key),m+='" ',e.sort&&(m+='class="action-admin-table-sort" data-sort="',m+=c(e.sort),m+='"'),m+=" ",e.width&&(m+='width="',m+=c(e.width),m+='"'),m+=" ",e.col&&(m+='colspan="',m+=c(e.col),m+='"'),m+=" > ",e.checkboxField&&(m+=' <i class="icon checkbox-field icon-checkbox-uncheck action-checkbox-field-toggle" data-cpn="',m+=c(e.checkboxField),m+='"></i> '),m+=" ",m+=c(e.text),m+=" ",e.sort&&(m+='<i class="icon icon-sort-',m+=c(e.sort),m+='" data-sort="',m+=c(e.sort),m+='" data-key="',m+=c(e.key),m+='"></i>'),m+=" </th> "),m+=" "}),m+=" </tr> </thead> "),m+=' <tbody class="admin-table-body"></tbody> </table> <p class="admin-no-result">',m+=c(l),m+="</p> </div> "):"items"==n&&(m+=" ",r&&(m+=" ",o(r,function(e,t){m+=' <tr class="admin-table-col ',t%2&&(m+="even-col"),m+=" ",m+=c(e._privateStyle),m+='" data-no="',m+=c(d.formatTableNo(u,t,p)),m+='" data-id="',m+=c(e._id),m+='"> ',o(f,function(a,n){m+=" ",e._skip&&a.key==h||0==a.col||s&&s(a)===!1||(m+=' <td class="admin-table-cell" data-key="',m+=c(a.key),m+='" ',a.title&&(m+='title="',m+=c(e[a.title]),m+='"'),m+=' style="text-align:',m+=a.align?c(a.align):"left",m+='" ',e.row&&a.key==h&&(m+='rowspan="',m+=c(e.row),m+='"'),m+=" > <div ",a.className&&(m+='class="cell-field-',m+=c(d.formatTableVar(a.className,e,!0)),m+='"'),m+="> ","_no"==a.key?(m+=" ",m+=c(d.formatTableNo(u,t,p)),m+=" "):a.components?(m+=' <div class="cell-cmd-group"> ',m+=c(d.variable(e._hasCpn=!1)),m+=" ",o(a.components,function(t,n){m+=" ",a.cpnFilter&&!a.cpnFilter(t,e)||(m+=" ",m+=c(d.variable(e._hasCpn=!0)),m+=" ","link"!=t.appearance||e[a.key+"SkipLink"]?"checkbox"==t.appearance?(m+=" ",m+=c(d.variable(e._checked=t.get&&t.get(e))),m+=' <i class="cell-cmd icon ',e._privateStyle&&(m+=" icon-checkbox-unablechecked "),m+=e._checked?"icon-checkbox-checked":"icon-checkbox-uncheck",m+=" action-default-cmd-check ",m+=c(t.style||""),m+='" data-cmd="',m+=c(t.cmd),m+='" data-value="',m+=c(t.value),m+='"></i> ',m+=c(d.variable(e._checked=void 0)),m+=" "):"radio"==t.appearance?(m+=" ",m+=c(d.variable(e._radio=t.get&&t.get(e))),m+=" <input data-cmd=",m+=c(t.cmd),m+=' class="action-default-cmd-radio" type="radio" ',e._radio&&(m+='checked="checked"'),m+=' name="admin-table-radio" value="',m+=c(e._id),m+='" /> ',m+=c(d.variable(e._radio=void 0)),m+=" "):"dropdown"==t.appearance?(m+=" ",m+=c(d.variable(e._selected=t.get&&t.get(e))),m+=" ",o(t.list,function(a,n){m+=" ",a.value==e._selected&&(m+=' <div class="admin-cell-dropdown cell-dropdown-selected ',e._disabled||(m+="action-show-dropdown"),m+=" ",t.cmd&&(m+="action-cmd-",m+=c(t.cmd)),m+=" ",m+=c(t.style||""),m+='" data-value="',m+=c(a.value),m+='"> <span class="text">',m+=c(a.text),m+='</span> <span class="arrow"><i class="icon icon-arrow-down"></i></span> </div> '),m+=" "}),m+=' <div class="admin-cell-dropdown cell-dropdown-list"> ',o(t.list,function(a,n){m+=" ",a.value!=e._selected&&(m+=' <span class="item action-select-dropdown-item" data-value="',m+=c(a.value),m+='" data-cmd="',m+=c(t.cmd),m+='">',m+=c(a.text),m+="</span> "),m+=" "}),m+=" </div> ",m+=c(d.variable(e._selected=void 0)),m+=" "):(m+=' <span class="',e[a.key+"SkipLink"]&&(m+="skip-link-style"),m+=" cell-cmd ",t.cmd&&(m+="action-cmd-",m+=c(t.cmd)),m+=" ",m+=c(t.style||""),m+='">',m+=i(e[a.key+"Text"]||t.text),m+="</span> "):(m+=' <a class="cell-cmd ',m+=c(t.style||""),m+='" ',t.target&&(m+='target="_',m+=c(t.target),m+='"'),m+=' href="',m+=c(d.formatTableVar(t.href,e,t.encode!==!1)),m+='">',m+=i(e[a.key+"Text"]||t.text),m+="</a> "),m+=" "),m+=" "}),m+=" ",e._hasCpn||(m+=" ",m+=c(a.holder||"--"),m+=" "),m+=" ",m+=c(d.variable(e._hasCpn=void 0)),m+=" </div> "):a.href?(m+=' <a class="cell-link ',a.cmd&&(m+="action-cmd-",m+=c(a.cmd)),m+='" ',a.target&&(m+='target="_',m+=c(a.target),m+='"'),m+=' href="',m+=c(d.formatTableVar(a.href,e,a.encode!==!1)),m+='">',m+=c(e[a.key]),m+="</a> "):(m+=" ",null==e[a.key]?(m+=" ",m+=c(a.holder),m+=" "):a.html?(m+=" ",m+=i(e[a.key]),m+=" "):(m+=" ",m+=c(e[a.key]),m+=" "),m+=" "),m+=" </div> ","_initPassword"==a.key&&(m+=' <span class="cell-btn green-btn action-init-password">重置</span> '),m+=" </td> "),m+=" "}),m+=" </tr> "}),m+=" "),m+=" "),new String(m)})},Bw2J:function(e,t,a){var n=a("vTIg");e.exports=n("src/tpl/dialog-teacher",function(e,t){"use strict";var a=this,n=(a.$helpers,e.type),r=a.$escape,i=e.nickname,o="";return"remove"==n&&(o+=' <p class="admin-dialog-message">确定删除 ',o+=r(i),o+=' 教师信息？</p> <span class="admin-dialog-warn">删除后，该教师的相关内容将不可恢复，请谨慎操作！</span> '),new String(o)})},"n+U9":function(e,t,a){"use strict";a("9ywm");var n=a("rQ9t"),r=a("ry11"),i=a("upMz"),o={},s={show:function(e,t){s.eventInit(),s.create(e,t)},eventInit:function(){s._isEventInit||($(document.body).on("change",".action-file-change",function(){var e=this.value;e=e.replace(/^.*\\/,""),$(".fake-input",o.importDialog).html(e)}),s._isEventInit=!0)},create:function(e,t){var a="";switch(e){case"teacher":a=window.globalTeacherTemplateUrl;case"question":a=a||window.globalQuestionTemplateUrl;case"class":var c=i($.extend({type:e,url:a||window.globalStudentTemplateUrl,datahelper:r},t||{}));o.importDialog=n.customBox("import",{content:c,fixed:!0,className:"admin-import-dialog admin-"+e+"-import-dialog",title:"批量导入",alone:0,buttons:[{id:"import",value:"导入",callback:function(e){s.submit()}},"cancel"]})}},submit:function(){var e=$("form",o.importDialog),t=$("input",o.importDialog);t.val()?e.submit():n.alert("请选择要导入的文件")}};e.exports=s},"9ywm":"ONbi",HPon:function(e,t){function a(e){return r(n(i(e)))}function n(e){return s(c(o(e),8*e.length))}function r(e){try{}catch(t){f=""}for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",r=e.length,i=0;i<r;i+=3)for(var o=e.charCodeAt(i)<<16|(i+1<r?e.charCodeAt(i+1)<<8:0)|(i+2<r?e.charCodeAt(i+2):0),s=0;s<4;s++)n+=8*i+6*s>8*e.length?f:a.charAt(o>>>6*(3-s)&63);return n}function i(e){for(var t,a,n="",r=-1;++r<e.length;)t=e.charCodeAt(r),a=r+1<e.length?e.charCodeAt(r+1):0,55296<=t&&t<=56319&&56320<=a&&a<=57343&&(t=65536+((1023&t)<<10)+(1023&a),r++),t<=127?n+=String.fromCharCode(t):t<=2047?n+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?n+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(n+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return n}function o(e){for(var t=Array(e.length>>2),a=0;a<t.length;a++)t[a]=0;for(var a=0;a<8*e.length;a+=8)t[a>>5]|=(255&e.charCodeAt(a/8))<<24-a%32;return t}function s(e){for(var t="",a=0;a<32*e.length;a+=8)t+=String.fromCharCode(e[a>>5]>>>24-a%32&255);return t}function c(e,t){e[t>>5]|=128<<24-t%32,e[(t+64>>9<<4)+15]=t;for(var a=Array(80),n=1732584193,r=-271733879,i=-1732584194,o=271733878,s=-1009589776,c=0;c<e.length;c+=16){for(var f=n,h=r,m=i,g=o,v=s,b=0;b<80;b++){b<16?a[b]=e[c+b]:a[b]=p(a[b-3]^a[b-8]^a[b-14]^a[b-16],1);var w=u(u(p(n,5),l(b,r,i,o)),u(u(s,a[b]),d(b)));s=o,o=i,i=p(r,30),r=n,n=w}n=u(n,f),r=u(r,h),i=u(i,m),o=u(o,g),s=u(s,v)}return Array(n,r,i,o,s)}function l(e,t,a,n){return e<20?t&a|~t&n:e<40?t^a^n:e<60?t&a|t&n|a&n:t^a^n}function d(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function u(e,t){var a=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(a>>16);return n<<16|65535&a}function p(e,t){return e<<t|e>>>32-t}var f="=";e.exports=a}}));